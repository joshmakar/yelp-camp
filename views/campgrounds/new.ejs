<% include ../partials/wrapper_head_default %>

<div class="row justify-content-center">
  <div class="col-12 col-lg-6">
    <h1>Create a New Campground</h1>
    <form action="/campgrounds" method="POST" enctype="multipart/form-data">
      <div class="form-group">
        <label for="campground_name">Campground Name</label>
        <input id="campground_name" class="form-control" name="campground[name]" type="text" placeholder="Name" required>
      </div>
      <div class="form-group">
        <label for="campground_address">Location</label>
        <input type="text" id="campground_address" class="form-control" name="campground[address]" placeholder="P. Sherman, 42 Wallaby Way, Sydney" required>
      </div>
      <div class="form-group">
        <label for="campground_price">Price Per Night</label>
        <input id="campground_price" class="form-control" name="campground[price]" type="number" min="0.00" step="0.01" placeholder="(USD)" required>
      </div>
      <div class="form-group">
        <label for="campground_img">Campground Image</label>
        <div class="custom-file">
          <input id="campground_img" class="custom-file-input" name="image" type="file" accept="image/*" required>
          <label id="custom_file_label" class="custom-file-label" for="campground_img">Choose file</label>
        </div>
      </div>
      <div class="form-group">
        <label for="campground_desc">Campground Description</label>
        <input id="campground_desc" class="form-control" name="campground[desc]" type="text" placeholder="Campground Description" required>
      </div>
      <button type="submit" class="btn btn-primary btn-sm">Submit</button>
      <a href="/campgrounds">Go Back</a>
    </form>
  </div>
</div>

<script>
  const customInput = document.getElementById('campground_img');
  const customFileLabel = document.getElementById('custom_file_label');
  customInput.addEventListener('change', event => {
    customFileLabel.innerHTML = customInput.value ? customInput.value.replace(/^C:\\fakepath\\/i, '') : 'Choose file';
  });
</script>

<% include ../partials/footer %>