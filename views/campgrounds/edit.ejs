<% include ../partials/header %>

<div class="row justify-content-center">
  <div class="col-12 col-lg-6">
    <h1>Edit <%= campground.name %></h1>
    <form action="/campgrounds/<%= campground._id %>?_method=PUT" method="POST" enctype="multipart/form-data">
      <div class="form-group">
        <label for="campground_name">Campground Name</label>
        <input id="campground_name" class="form-control" name="campground[name]" type="text" value="<%= campground.name %>" required>
      </div>
      <div class="form-group">
        <label for="campground_address">Location</label>
        <input type="text" id="campground_address" class="form-control" name="campground[address]" value="<%= campground.location.address %>" required>
      </div>
      <div class="form-group">
        <label for="campground_price">Price Per Night</label>
        <input id="campground_price" class="form-control" name="campground[price]" type="number" min="0.00" step="0.01" value="<%= campground.price %>" required>
      </div>
      <div class="form-group">
        <label for="campground_img">Replace Campground Image?</label>
        <div class="custom-file">
          <input id="campground_img" class="custom-file-input" name="image" type="file" accept="image/*">
          <label id="custom_file_label" class="custom-file-label" for="campground_img">Choose file</label>
        </div>
      </div>
      <div class="form-group">
        <label for="campground_desc">Campground Description</label>
        <input id="campground_desc" class="form-control" name="campground[desc]" type="text" value="<%= campground.description %>" required>
      </div>
      <button type="submit" class="btn btn-primary btn-sm">Submit</button>
      <a href="/campgrounds/<%= campground._id %>">Go Back</a>
    </form>
    
  </div>
</div>

<script>
  const customInput = document.getElementById('campground_img');
  const customFileLabel = document.getElementById('custom_file_label');
  customInput.addEventListener('change', event => {
    customFileLabel.innerHTML = customInput.value ? customInput.value.replace(/^C:\\fakepath\\/i, '') : 'Choose file';
  });
</script>

<% include ../partials/footer %>